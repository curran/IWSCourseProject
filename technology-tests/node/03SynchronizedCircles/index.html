<html>
<title>Hello Web!!</title> 
<head>
<script src="/socket.io/socket.io.js"></script>
<script src="processing-1.3.0.min.js"></script>
</head>
<body style="margin: 0px;"> <!-- to make full screen -->
<canvas id="pjs"> </canvas>
<script type="application/javascript">
//connect to the chat server
//TODO how to not hard code this ip?
var socket = io.connect('http://192.168.1.9:8080/');
socket.on('executeTransaction', function (data) {
  console.log(data);
});
function send(text){
  socket.emit('commitTransaction', text);
}

var x = 0;
var t = 0;
var radius = 200;
function sketch(p){
  p.draw = function(){
    p.fill((Math.sin(t+=0.01)/2+0.5)*255,
            (Math.sin(t*1.01)/2+0.5)*255,
            (Math.sin(t*1.02)/2+0.5)*255);
    x = (x+0.5+(x/1000));
    p.ellipse( x%(p.width + radius/2),
               radius/2+(p.height - radius)*(Math.sin(x/400)/2+0.5),
               radius, radius);
  };
};
var canvas = document.getElementById("pjs");  
var p = new Processing(canvas, sketch);
p.size(window.innerWidth, window.innerHeight);
p.background(0);
</script>
</body>
</html>
